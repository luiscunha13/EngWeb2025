extends layout

block content
    .w3-card-4
        header.w3-container.w3-blue
            h1 Editar Filme
        form.w3-container(method="POST")
            fieldset
                legend Metadata
                label Título
                input.w3-input(type="text" name="title" value=filme.title readonly)
                label Ano
                input.w3-input(type="text" name="year" value=filme.year)
            fieldset
                label Atores
                .actors-container
                    each actor in filme.cast
                        .actor-entry.w3-row
                            .w3-col.m10
                                input.w3-input(type="text" name="actors" value=actor)
                            .w3-col.m2
                                button.w3-button.w3-red.remove-actor(type="button") Remover

                .w3-row.w3-margin-top
                    .w3-col.m12
                        button.w3-button.w3-green.add-actor(type="button") Adicionar ator
            fieldset
                label Géneros
                .genres-container
                    each genre in filme.genres
                        .genre-entry.w3-row
                            .w3-col.m10
                                input.w3-input(type="text" name="genres" value=genre)
                            .w3-col.m2
                                button.w3-button.w3-red.remove-genre(type="button") Remover

                .w3-row.w3-margin-top
                    .w3-col.m12
                        button.w3-button.w3-green.add-genre(type="button") Adicionar género
            
            br
            button.w3-btn.w3-orange.w3-mb-2(type="submit") Submeter
    footer.w3.container.w3-blue 
      adress Generated by EngWeb2025 class
    script.
        document.addEventListener('DOMContentLoaded', function() {
        
            document.querySelector('.add-actor').addEventListener('click', function() {
                const container = document.querySelector('.actors-container');
                const newRow = document.createElement('div');
                newRow.className = 'actor-entry w3-row';
                newRow.innerHTML = `
                <div class="w3-col m10">
                    <input class="w3-input" type="text" name="actors" value="">
                </div>
                <div class="w3-col m2">
                    <button class="w3-button w3-red remove-actor" type="button">Remover</button>
                </div>
                `;
                container.appendChild(newRow); 
            });

            document.querySelector('.actors-container').addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-actor')) {
                e.target.closest('.actor-entry').remove(); 
                }
            });
        });
    script.
        document.addEventListener('DOMContentLoaded', function() {
        
            document.querySelector('.add-genre').addEventListener('click', function() {
                const container = document.querySelector('.genres-container');
                const newRow = document.createElement('div');
                newRow.className = 'genre-entry w3-row';
                newRow.innerHTML = `
                <div class="w3-col m10">
                    <input class="w3-input" type="text" name="genres" value="">
                </div>
                <div class="w3-col m2">
                    <button class="w3-button w3-red remove-genre" type="button">Remover</button>
                </div>
                `;
                container.appendChild(newRow); 
            });

            document.querySelector('.genres-container').addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-genre')) {
                e.target.closest('.genre-entry').remove(); 
                }
            });
        });